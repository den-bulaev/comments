(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],[,,,,,,,,,,,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(5),i=n.n(s),r=(n(11),n(2)),o=n(4),u=n.n(o),l=n(6),m=function(t,e){return fetch("https://jordan.ashton.fashion/api/"+t,e).then((function(t){if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));return t.json()})).then((function(t){return t}))},j=function(t,e,n){return function(t,e,n){var c={method:"POST",body:JSON.stringify({name:e,text:n}),headers:{"Content-type":"application/json; charset=UTF-8"}};return m(t,c)}("goods/".concat(t,"/comments"),e,n)},b=function(t,e){return n="goods/".concat(t,"/comments?page=").concat(e),m(n,{method:"GET"});var n},p=(n(13),n(0)),h=function(t){var e=t.setCommentAdded,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(""),m=Object(r.a)(o,2),b=m[0],h=m[1],d=function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,j(30,s,b);case 3:e((function(t){return!t})),i(""),h("");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("form",{className:"Form",onSubmit:d,children:[Object(p.jsx)("input",{type:"text",className:"input is-primary",name:"name",placeholder:"Type name",required:!0,value:s,onChange:function(t){var e=t.target.value;i(e)}}),Object(p.jsx)("textarea",{className:"textarea is-primary",name:"comment",placeholder:"Type comment",required:!0,value:b,onChange:function(t){var e=t.target.value;h(e)}}),Object(p.jsx)("button",{type:"submit",className:"button is-primary Form--button",children:"Add"})]})},d=a.a.memo(h),O=(n(15),function(t){var e=t.comments;return Object(p.jsx)("ul",{className:"Comments",children:e.map((function(t){var e=t.id,n=t.name,c=t.text;return Object(p.jsxs)("li",{className:"box Comments__item",children:[Object(p.jsxs)("p",{className:"block",children:[Object(p.jsx)("strong",{className:"has-text-primary",children:"Name: "}),Object(p.jsx)("span",{children:n})]}),Object(p.jsx)("strong",{className:"has-text-primary",children:"Text:"}),Object(p.jsx)("p",{className:"block",children:c})]},e)}))})}),x=a.a.memo(O),f=(n(16),function(t){var e=t.pagesAmount,n=t.setCurrentPage,c=t.currentPage;return Object(p.jsxs)("nav",{className:"pagination Navbar",role:"navigation","aria-label":"pagination",children:[Object(p.jsx)("button",{type:"button",className:"pagination-previous button",onClick:function(){c>=2&&n((function(t){return t-1}))},children:"Previous"}),Object(p.jsx)("button",{type:"button",className:"pagination-next button",onClick:function(){c<e&&n((function(t){return t+1}))},children:"Next page"}),Object(p.jsxs)("ul",{className:"pagination-list",children:[Object(p.jsx)("li",{children:Object(p.jsx)("button",{type:"button",className:"pagination-link button",onClick:function(){n(1)},children:"1"})}),Object(p.jsx)("li",{children:Object(p.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{type:"button",className:"pagination-link is-current button",children:c})}),Object(p.jsx)("li",{children:Object(p.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{type:"button",className:"pagination-link button",onClick:function(){n(e)},children:e})})]})]})}),g=a.a.memo(f),N=(n(17),function(){var t=Object(c.useState)([]),e=Object(r.a)(t,2),n=e[0],a=e[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(3),m=Object(r.a)(l,2),j=m[0],h=m[1],O=Object(c.useState)(1),f=Object(r.a)(O,2),N=f[0],y=f[1],v=Object(c.useState)(0),k=Object(r.a)(v,2),C=k[0],S=k[1];Object(c.useEffect)((function(){b(30,N).then((function(t){a(t.data),S(t.last_page)}))}),[o,j,N]);return Object(p.jsxs)("main",{className:"App",children:[Object(p.jsx)("h1",{className:"title is-1 has-text-primary",children:"Comments app"}),Object(p.jsxs)("section",{className:"section App__container",children:[Object(p.jsxs)("div",{className:"App__block",children:[Object(p.jsx)("h2",{className:"subtitle is-2 has-text-primary",children:"Add new comment"}),Object(p.jsx)(d,{setCommentAdded:u})]}),Object(p.jsx)("div",{className:"App__block",children:n.length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"subtitle is-2 has-text-primary",children:"Comments"}),Object(p.jsx)(x,{comments:n.slice(0,j)}),j<n.length&&Object(p.jsx)("button",{type:"button",className:"button is-primary App__comments-show-button",onClick:function(){n.length>j&&h((function(t){return t+3}))},children:"Show more"}),j>0&&Object(p.jsx)("button",{type:"button",className:"button is-primary App__comments-show-button",onClick:function(){j>0&&h((function(t){return t-3}))},children:"Show less"}),Object(p.jsx)(g,{pagesAmount:C,setCurrentPage:y,currentPage:N})]})})]})]})});i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.9996242e.chunk.js.map