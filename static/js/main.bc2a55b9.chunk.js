(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],[,,,,,,,,,,,function(t,e,n){},,function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),s=n(5),i=n.n(s),o=(n(11),n(2)),r=n(4),l=n.n(r),u=n(6),m=function(t,e){return fetch("https://jordan.ashton.fashion/api/"+t,e).then((function(t){if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));return t.json()})).then((function(t){return t}))},j=function(t,e,n){return function(t,e,n){var c={method:"POST",body:JSON.stringify({name:e,text:n}),headers:{"Content-type":"application/json; charset=UTF-8"}};return m(t,c)}("goods/".concat(t,"/comments"),e,n)},b=function(t,e){return n="goods/".concat(t,"/comments?page=").concat(e),m(n,{method:"GET"});var n},p=(n(13),n(0)),d=function(t){var e=t.isCommentAdded,n=t.setCommentAdded,a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],r=s[1],m=Object(c.useState)(""),b=Object(o.a)(m,2),d=b[0],h=b[1],O=function(){var t=Object(u.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,j(30,i,d);case 3:n(!e),r(""),h("");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("form",{className:"Form",onSubmit:O,children:[Object(p.jsx)("input",{type:"text",className:"input is-primary",name:"name",placeholder:"Type name",required:!0,value:i,onChange:function(t){var e=t.target.value;r(e)}}),Object(p.jsx)("textarea",{className:"textarea is-primary",name:"comment",placeholder:"Type comment",required:!0,value:d,onChange:function(t){var e=t.target.value;h(e)}}),Object(p.jsx)("button",{type:"submit",className:"button is-primary Form--button",children:"Add"})]})},h=a.a.memo(d),O=(n(15),function(t){var e=t.comments;return Object(p.jsx)("ul",{className:"Comments",children:e.map((function(t){var e=t.id,n=t.name,c=t.text;return Object(p.jsxs)("li",{className:"box Comments__item",children:[Object(p.jsxs)("p",{className:"block",children:[Object(p.jsx)("strong",{className:"has-text-primary",children:"Name: "}),Object(p.jsx)("span",{children:n})]}),Object(p.jsx)("strong",{className:"has-text-primary",children:"Text:"}),Object(p.jsx)("p",{className:"block",children:c})]},e)}))})}),x=a.a.memo(O),f=(n(16),function(t){var e=t.pagesAmount,n=t.setCurrentPage,c=t.currentPage;return Object(p.jsxs)("nav",{className:"pagination Navbar",role:"navigation","aria-label":"pagination",children:[Object(p.jsx)("button",{type:"button",className:"pagination-previous button",onClick:function(){c>=2&&n(c-1)},children:"Previous"}),Object(p.jsx)("button",{type:"button",className:"pagination-next button",onClick:function(){c<e&&n(c+1)},children:"Next page"}),Object(p.jsxs)("ul",{className:"pagination-list",children:[Object(p.jsx)("li",{children:Object(p.jsx)("button",{type:"button",className:"pagination-link button",onClick:function(){n(1)},children:"1"})}),Object(p.jsx)("li",{children:Object(p.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{type:"button",className:"pagination-link is-current button",children:c})}),Object(p.jsx)("li",{children:Object(p.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{type:"button",className:"pagination-link button",onClick:function(){n(e)},children:e})})]})]})}),g=a.a.memo(f);n(17);var N=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],a=e[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1],u=Object(c.useState)(3),m=Object(o.a)(u,2),j=m[0],d=m[1],O=Object(c.useState)(1),f=Object(o.a)(O,2),N=f[0],y=f[1],v=Object(c.useState)(0),C=Object(o.a)(v,2),k=C[0],A=C[1];return Object(c.useEffect)((function(){b(30,N).then((function(t){a(t.data),A(t.last_page)}))}),[r,j,N]),Object(p.jsxs)("main",{className:"App",children:[Object(p.jsx)("h1",{className:"title is-1 has-text-primary",children:"Simple app"}),Object(p.jsxs)("section",{className:"section App__container",children:[Object(p.jsxs)("div",{className:"App__block",children:[Object(p.jsx)("h2",{className:"subtitle is-2 has-text-primary",children:"Add new comment"}),Object(p.jsx)(h,{isCommentAdded:r,setCommentAdded:l})]}),Object(p.jsx)("div",{className:"App__block",children:n.length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"subtitle is-2 has-text-primary",children:"Comments"}),Object(p.jsx)(x,{comments:n.slice(0,j)}),j<n.length&&Object(p.jsx)("button",{type:"button",className:"button is-primary App__comments-show-button",onClick:function(){n.length>j&&d(j+3)},children:"Show more"}),j>0&&Object(p.jsx)("button",{type:"button",className:"button is-primary App__comments-show-button",onClick:function(){j>0&&d(j-3)},children:"Show less"}),Object(p.jsx)(g,{pagesAmount:k,setCurrentPage:y,currentPage:N})]})})]})]})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.bc2a55b9.chunk.js.map